// vim:set ts=8 sts=2 sw=2 tw=0:
plugins {
  id "me.champeau.jmh" version "0.6.6"
}

repositories {
  mavenCentral()
  google()
}

dependencies {
  implementation "com.udojava:EvalEx:2.7"
  implementation "org.apache.commons:commons-jexl3:3.2.1"
  implementation files("libs/jep-java-4.0-trial.jar")

  testImplementation 'org.junit.jupiter:junit-jupiter-api:5.8.2'
  testRuntimeOnly 'org.junit.jupiter:junit-jupiter-engine'
}

tasks.withType(JavaCompile) {
    options.encoding = 'UTF-8'
}

tasks.named('test') {
  useJUnitPlatform()
}

jmh {
  fork = 1
  warmup = "3s"
  warmupIterations = 1
  includes = [ '\\.eval\\.' ]
  //includes = [ 'Eval_04.*evalexEval' ]

  //includes = [ 'EvalSegmentJEP1.*' ]
}
